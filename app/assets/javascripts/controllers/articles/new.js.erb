//= require includes/sir-trevor

$(document).on('ready page:load', function(){

  SirTrevor.setDefaults({
    iconUrl: "<%= asset_path('sir-trevor-icons.svg') %>",
    uploadUrl: "/images",
    ajaxOptions: {
      headers: {
        "X-CSRF-Token": document.querySelector('meta[name=csrf-token]').getAttribute('content')
      },
      credentials: 'same-origin'
    }
  });
  SirTrevor.config.debug = true;
  SirTrevor.config.scribeDebug = true;
  SirTrevor.config.language = "en";

  window.editor = new SirTrevor.Editor({
    el: $(".js-sir-trevor-instance").get(0),
    blockTypes: [
      "Heading",
      "Text",
      "List",
      "Quote",
      "Image",
      "Video",
      "Tweet"
    ]
  });
});