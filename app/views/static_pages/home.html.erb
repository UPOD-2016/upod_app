<script>
	(function($, window){
	  var arrowWidth = 30;

	  $.fn.resizeselect = function(settings) {  
	    return this.each(function() { 

	      $(this).change(function(){
		var $this = $(this);

		// create test element
		var text = $this.find("option:selected").text();
		var $test = $("<span>").html(text);

		// add to body, get width, and get out
		$test.appendTo('body');
		var width = $test.width();
		$test.remove();

		// set select width
		$this.width(width + arrowWidth);

		// run on start
	      }).change();

	    });
	  };

	  // run by default
	  $("select.resizeselect").resizeselect();                       

	})(jQuery, window);
</script>
<body style="background-color:#330072;">
	<div class="container-fluid" style="margin-bottom:10%"> <!--image/search bar-->
    <div class="row">
      <div class="col-md-12">
        <%= link_to root_path do %>
          <%= image_tag('logo.png', :class => "center-block", :style => "margin-top: 5%; margin-bottom: 40px;")%>
        <% end %>
      </div>
    </div> <!-- .row -->
    <div class="row"> <!-- Search bar -->
      <div class="col-md-6 col-md-offset-3">
        <%= form_tag articles_path, method: :get, role: 'search' do %>
          <div class="form-group" style="display:inline;">
            <div class="input-group">
      	     <span class="input-group-btn">
              <%= select_tag "category_search", options_from_collection_for_select(Category.all, "id", "name"),
                {prompt: "Filter", :class => "btn btn-default resizeselect", :style => "-moz-appearance: none; -webkit-appearance: none;"} %>
      	     </span>
              <%= text_field_tag :q, params[:q], class: 'form-control' %>
              <span class="input-group-btn">
                <%= button_tag(type: :submit, class: 'btn btn-default') do %>
      					 <span class="glyphicon glyphicon-search"> </span>
      				  <% end %>
			       </span>
            </div> <!-- .input-group -->
          </div> <!-- .form-group -->
        <% end %>
      </div>
    </div> <!-- end Search bar -->
  </div> <!--end image/search bar-->


	<div class="container" style="margin-top:10%">
		<!-- categories -->
		<div class="row">
			<% @categories.each do |category| %>
        			<div class="col-md-4 col-xs-6 thumb">
					<div class="caption" align=center >
          					<h4><strong><%= link_to category.name, category , :style => "color:#ffcc00;text-decoration:none;"%></strong></h4>
        				</div>
          				<%= link_to image_tag(category.image, :class => "img-responsive"), category, :class => "thumbnail" %>
					
        			</div>
        			
      			<% end %>
		</div>
	</div>
	<!-- end categories -->
<body>
